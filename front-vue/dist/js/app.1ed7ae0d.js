(function(e){function t(t){for(var n,c,r=t[0],s=t[1],d=t[2],u=0,m=[];u<r.length;u++)c=r[u],Object.prototype.hasOwnProperty.call(o,c)&&o[c]&&m.push(o[c][0]),o[c]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);l&&l(t);while(m.length)m.shift()();return i.push.apply(i,d||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],n=!0,r=1;r<a.length;r++){var s=a[r];0!==o[s]&&(n=!1)}n&&(i.splice(t--,1),e=c(c.s=a[0]))}return e}var n={},o={app:0},i=[];function c(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.m=e,c.c=n,c.d=function(e,t,a){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)c.d(a,n,function(t){return e[t]}.bind(null,n));return a},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],s=r.push.bind(r);r.push=t,r=r.slice();for(var d=0;d<r.length;d++)t(r[d]);var l=s;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0100":function(e,t,a){},"034f":function(e,t,a){"use strict";var n=a("85ec"),o=a.n(n);o.a},"04db":function(e,t,a){"use strict";var n=a("e0a7"),o=a.n(n);o.a},5684:function(e,t,a){"use strict";var n=a("5bbc"),o=a.n(n);o.a},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},i=[],c={name:"app"},r=c,s=(a("034f"),a("2877")),d=Object(s["a"])(r,o,i,!1,null,null,null),l=d.exports,u=a("8c4f"),m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home"},[a("div",{staticClass:"layout"},[a("Layout",[a("Header",[a("Menu",{attrs:{mode:"horizontal",theme:"dark","active-name":"1"}},[a("div",{staticClass:"layout-logo"},[a("MenuItem",{attrs:{name:"4"}},[a("Button",{attrs:{type:"success"},on:{click:e.backup}},[e._v("备份数据")])],1)],1),a("div",{staticClass:"layout-nav"},[a("MenuItem",{attrs:{name:"1"}},[a("Button",{attrs:{type:"warning"},on:{click:e.addAccount}},[e._v("添加账户")])],1),a("MenuItem",{attrs:{name:"2"}},[a("Button",{attrs:{type:"primary"},on:{click:e.addAgent}},[e._v("添加代理")])],1),a("MenuItem",{attrs:{name:"3"}},[a("Button",{attrs:{type:"primary"},on:{click:e.addMachine}},[e._v("添加机器")])],1),a("AddAccount",{attrs:{showModal:e.showAddAccount},on:{"update:showModal":function(t){e.showAddAccount=t},"update:show-modal":function(t){e.showAddAccount=t}}}),a("AddAgent",{attrs:{showModal:e.showAddAgent},on:{"update:showModal":function(t){e.showAddAgent=t},"update:show-modal":function(t){e.showAddAgent=t}}}),a("AddMachine",{attrs:{showModal:e.showAddMachine},on:{"update:showModal":function(t){e.showAddMachine=t},"update:show-modal":function(t){e.showAddMachine=t}}})],1)])],1),a("Layout",[a("Sider",{style:{background:"#fff",height:"100%"},attrs:{"hide-trigger":""}},[a("Menu",{attrs:{theme:"light",width:"auto","open-names":["1"]}},[a("Submenu",{attrs:{name:"1"}},[a("template",{slot:"title"},[a("Icon",{attrs:{type:"ios-navigate"}}),e._v("账户信息 ")],1),a("MenuItem",{attrs:{name:"1-1",to:"/home/accounts/all"}},[e._v("所有账户")]),a("MenuItem",{attrs:{name:"1-2",to:"/home/accounts/used"}},[e._v("使用中的账户")]),a("MenuItem",{attrs:{name:"1-3",to:"/home/accounts/unuse"}},[e._v("闲置账户")])],2),a("Submenu",{attrs:{name:"2"}},[a("template",{slot:"title"},[a("Icon",{attrs:{type:"ios-analytics"}}),e._v("代理人 ")],1),e._l(e.agents,(function(t){return a("MenuItem",{key:t.id,attrs:{name:t.agent_name,to:"/home/agents/"+t.agent_name}},[e._v(e._s(t.agent_name))])}))],2),a("Submenu",{attrs:{name:"3"}},[a("template",{slot:"title"},[a("Icon",{attrs:{type:"ios-analytics"}}),e._v("机器管理 ")],1),a("MenuItem",{attrs:{name:"3-1",to:"/home/machines/formal"}},[e._v("有效的机器")]),a("MenuItem",{attrs:{name:"3-2",to:"/home/machines/useful"}},[e._v("有效未用的机器")]),a("MenuItem",{attrs:{name:"3-3",to:"/home/machines/expose"}},[e._v("过期的机器")])],2),a("Submenu",{attrs:{name:"4"}},[a("template",{slot:"title"},[a("Icon",{attrs:{type:"md-medkit"}}),e._v("备份数据 ")],1),e._l(e.backups,(function(t){return a("MenuItem",{key:t,attrs:{name:t}},[e._v(e._s(t))])}))],2)],1)],1),a("Layout",{style:{padding:"0 24px 24px"}},[a("Content",{style:{padding:"24px",background:"#fff",height:"100%"}},[a("router-view")],1)],1)],1)],1)],1)])},h=[],p=(a("a4d3"),a("4de4"),a("4160"),a("e439"),a("dbb4"),a("b64b"),a("159b"),a("ade3")),f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"add-account"},[a("Modal",{attrs:{title:"添加账户",loading:e.loading},on:{"on-ok":function(t){return e.asyncOK("accountFormValidate")}},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[a("Form",{ref:"accountFormValidate",attrs:{model:e.accountFormValidate,"label-width":120}},[a("FormItem",{attrs:{label:"账户代号",prop:"account_no",rules:{required:!0,message:"账户代号, 如：a101",trigger:"blur"}}},[a("i-input",{attrs:{placeholder:"输入账户代号"},model:{value:e.accountFormValidate.account_no,callback:function(t){e.$set(e.accountFormValidate,"account_no",t)},expression:"accountFormValidate.account_no"}})],1),a("FormItem",{attrs:{label:"选择代理",prop:"agent_id",rules:{required:!0}}},[a("Select",{attrs:{placeholder:"选择账户的代理"},model:{value:e.accountFormValidate.agent_id,callback:function(t){e.$set(e.accountFormValidate,"agent_id",t)},expression:"accountFormValidate.agent_id"}},e._l(e.agents,(function(t){return a("Option",{key:t.agent_name,attrs:{value:t.id}},[e._v(e._s(t.agent_name))])})),1)],1),a("FormItem",{attrs:{label:"代理时间",prop:"agent_date"}},[a("DatePicker",{attrs:{type:"date",placeholder:"代理的授权日期"},model:{value:e.accountFormValidate.agent_date,callback:function(t){e.$set(e.accountFormValidate,"agent_date",t)},expression:"accountFormValidate.agent_date"}})],1),a("FormItem",{attrs:{label:"代理截止日期",prop:"end_date"}},[a("DatePicker",{attrs:{type:"date",placeholder:"代理的截止日期"},model:{value:e.accountFormValidate.end_date,callback:function(t){e.$set(e.accountFormValidate,"end_date",t)},expression:"accountFormValidate.end_date"}})],1),a("FormItem",{attrs:{label:"选择机器",prop:"machine_id"}},[a("Select",{attrs:{placeholder:"选择机器",clearable:""},model:{value:e.accountFormValidate.machine_id,callback:function(t){e.$set(e.accountFormValidate,"machine_id",t)},expression:"accountFormValidate.machine_id"}},e._l(e.getMachinesWithState("useful"),(function(t){return a("Option",{key:t.machine_no,attrs:{value:t.id}},[e._v(e._s(t.machine_no))])})),1)],1)],1)],1)],1)},_=[],g=a("2f62");function b(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function w(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?b(Object(a),!0).forEach((function(t){Object(p["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):b(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var v={name:"AddAccount",props:{showModal:Boolean},data:function(){return{show:!1,loading:!0,accountFormValidate:{account_no:"",agent_id:"",agent_date:"",end_date:"",machine_id:""}}},computed:w({},Object(g["d"])(["agents"]),{},Object(g["c"])(["getMachinesWithState"])),methods:w({},Object(g["b"])(["addAccount"]),{asyncOK:function(e){var t=this;this.$refs[e].validate((function(e){e?t.addAccount({me:t,data:{account_no:t.accountFormValidate.account_no,agent_id:t.accountFormValidate.agent_id,agent_date:t.accountFormValidate.agent_date,end_date:t.accountFormValidate.end_date,machine_id:t.accountFormValidate.machine_id}}):t.$Message.warning("请检查你的输入内容")})),this.show=!1,this.$refs[e].resetFields()}}),watch:{showModal:function(){this.show=this.showModal},show:function(){this.$emit("update:showModal",this.show)}}},O=v,y=Object(s["a"])(O,f,_,!1,null,"3c519873",null),F=y.exports,j=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"add-agent"},[a("Modal",{attrs:{title:"添加代理",loading:e.loading},on:{"on-ok":function(t){return e.asyncOK("agentFormValidate")}},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[a("Form",{ref:"agentFormValidate",attrs:{model:e.agentFormValidate,"label-width":80}},[a("FormItem",{attrs:{label:"姓名",prop:"name",rules:{required:!0,message:"姓名必填",trigger:"blur"}}},[a("i-input",{attrs:{placeholder:"输入代理姓名"},model:{value:e.agentFormValidate.name,callback:function(t){e.$set(e.agentFormValidate,"name",t)},expression:"agentFormValidate.name"}})],1),a("FormItem",{attrs:{label:"账户",prop:"account",rules:{required:!0,message:"账户必填，推荐姓名拼音如：小王->xiaowang",trigger:"blur"}}},[a("i-input",{attrs:{placeholder:"输入代理账户"},model:{value:e.agentFormValidate.account,callback:function(t){e.$set(e.agentFormValidate,"account",t)},expression:"agentFormValidate.account"}})],1),a("FormItem",{attrs:{label:"密码",prop:"password",rules:{required:!0,min:6,message:"密码必填不少于6位",trigger:"blur"}}},[a("i-input",{attrs:{placeholder:"输入代理密码"},model:{value:e.agentFormValidate.password,callback:function(t){e.$set(e.agentFormValidate,"password",t)},expression:"agentFormValidate.password"}})],1)],1)],1)],1)},k=[];a("b0c0");function A(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function M(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?A(Object(a),!0).forEach((function(t){Object(p["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):A(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var V={name:"AddAgent",props:{showModal:Boolean},data:function(){return{show:!1,loading:!0,agentFormValidate:{name:"",account:"",password:""}}},methods:M({},Object(g["b"])(["addAgent"]),{asyncOK:function(e){var t=this;this.$refs[e].validate((function(e){e?t.addAgent({me:t,data:{agent_name:t.agentFormValidate.name,agent_account:t.agentFormValidate.account,agent_password:t.agentFormValidate.password}}):t.$Message.warning("请检查你填写的数据")})),this.show=!1,this.$refs[e].resetFields()}}),watch:{showModal:function(){this.show=this.showModal},show:function(){this.$emit("update:showModal",this.show)}}},P=V,D=Object(s["a"])(P,j,k,!1,null,"f6385494",null),$=D.exports,x=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"add-machine"},[a("Modal",{attrs:{title:"添加机器",loading:e.loading},on:{"on-ok":function(t){return e.asyncOK("machineFormValidate")}},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[a("Form",{ref:"machineFormValidate",attrs:{model:e.machineFormValidate,"label-width":120}},[a("FormItem",{attrs:{label:"机器代号",prop:"machine_no",rules:{required:!0,message:"账户代号, 如：a101",trigger:"blur"}}},[a("i-input",{attrs:{placeholder:"输入机器代号"},model:{value:e.machineFormValidate.machine_no,callback:function(t){e.$set(e.machineFormValidate,"machine_no",t)},expression:"machineFormValidate.machine_no"}})],1),a("FormItem",{attrs:{label:"机器IP",prop:"machine_ip",rules:{required:!0,message:"机器IP必填，如：192.168.1.1:6666",trigger:"blur"}}},[a("i-input",{attrs:{placeholder:"输入代理机器IP"},model:{value:e.machineFormValidate.machine_ip,callback:function(t){e.$set(e.machineFormValidate,"machine_ip",t)},expression:"machineFormValidate.machine_ip"}})],1),a("FormItem",{attrs:{label:"机器密码",prop:"machine_password",rules:{required:!0,min:6,message:"密码必填不少于6位",trigger:"blur"}}},[a("i-input",{attrs:{placeholder:"输入机器密码"},model:{value:e.machineFormValidate.machine_password,callback:function(t){e.$set(e.machineFormValidate,"machine_password",t)},expression:"machineFormValidate.machine_password"}})],1),a("FormItem",{attrs:{label:"机器创建日期",prop:"machine_create_date",rules:{required:!0}}},[a("DatePicker",{attrs:{type:"date",placeholder:"机器创建日期"},model:{value:e.machineFormValidate.machine_create_date,callback:function(t){e.$set(e.machineFormValidate,"machine_create_date",t)},expression:"machineFormValidate.machine_create_date"}})],1),a("FormItem",{attrs:{label:"机器截止日期",prop:"machine_end_date",rules:{required:!0}}},[a("DatePicker",{attrs:{type:"date",placeholder:"代理的截止日期"},model:{value:e.machineFormValidate.machine_end_date,callback:function(t){e.$set(e.machineFormValidate,"machine_end_date",t)},expression:"machineFormValidate.machine_end_date"}})],1)],1)],1)],1)},E=[];function I(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function S(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?I(Object(a),!0).forEach((function(t){Object(p["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):I(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var C={name:"AddMachine",props:{showModal:Boolean},data:function(){return{show:!1,loading:!0,machineFormValidate:{machine_no:"",machine_ip:"",machine_password:"",machine_create_date:"",machine_end_date:""}}},methods:S({},Object(g["b"])(["addMachine"]),{asyncOK:function(e){var t=this;this.$refs[e].validate((function(e){e?t.addMachine({me:t,data:{machine_no:t.machineFormValidate.machine_no,machine_ip:t.machineFormValidate.machine_ip,machine_password:t.machineFormValidate.machine_password,machine_create_date:t.machineFormValidate.machine_create_date,machine_end_date:t.machineFormValidate.machine_end_date}}):t.$Message.warning("请检查你填写的数据")})),this.$refs[e].resetFields(),this.show=!1}}),watch:{showModal:function(){this.show=this.showModal},show:function(){this.$emit("update:showModal",this.show)}}},B=C,q=Object(s["a"])(B,x,E,!1,null,"78521dbc",null),W=q.exports,N=(a("a15b"),a("4fad"),a("d3b7"),a("3835")),K=(a("96cf"),a("bc3a")),L=a.n(K);L.a.defaults.headers.post["Content-Type"]="application/x-www-from-urlencode",L.a.defaults.timeout=5e3,L.a.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),L.a.interceptors.response.use((function(e){return 200===!e.status?Promise.reject(e):e}),(function(e){return Promise.reject(e)}));var T=function(){var e,t,a,n,o,i,c,r,s,d=arguments;return regeneratorRuntime.async((function(l){while(1)switch(l.prev=l.next){case 0:if(e=d.length>0&&void 0!==d[0]?d[0]:"",t=d.length>1&&void 0!==d[1]?d[1]:{},a=d.length>2&&void 0!==d[2]?d[2]:"get",a=a.toLowerCase(),"get"!==a){l.next=11;break}for(n=[],o=0,i=Object.entries(t);o<i.length;o++)c=Object(N["a"])(i[o],2),r=c[0],s=c[1],n.push(r+"="+s);return n.length>0&&(e+="?"+n.join("&")),l.abrupt("return",new Promise((function(t,a){L.a.get(e).then((function(e){t(e.data)}),(function(e){a(e)})).catch((function(e){a(e)}))})));case 11:if("post"!==a){l.next=15;break}return l.abrupt("return",new Promise((function(a,n){L.a.post(e,t).then((function(e){a(e.data)}),(function(e){n(e)}))})));case 15:return l.abrupt("return",Promise.reject("传递参数错误"));case 16:case"end":return l.stop()}}))},z={getAllInfo:function(){return T("api/getallinfo")},addAccount:function(e){return T("api/add/account",e,"post")},editAccount:function(e){return T("api/edit/account",e,"post")},editMachine:function(e){return T("api/edit/machine",e,"post")},addMachine:function(e){return T("api/add/machine",e,"post")},addAgent:function(e){return T("api/add/agent",e,"post")},delAccount:function(e){return T("api/del/account",e,"post")},delMachine:function(e){return T("api/del/machine",e,"post")},backup:function(){return T("api/backup")},getBackupFiles:function(){return T("api/getbackupfiles")},load:function(e,t){var a=window.btoa(e+"::"+t);return T("/api/load?token="+a)}};function R(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function H(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?R(Object(a),!0).forEach((function(t){Object(p["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):R(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var J={name:"Home",components:{AddAccount:F,AddAgent:$,AddMachine:W},data:function(){return{showAddAccount:!1,showAddAgent:!1,showAddMachine:!1}},created:function(){this.fetchAllInfo()},computed:H({},Object(g["d"])(["agents","backups"])),methods:H({},Object(g["b"])(["backupFile","initAllInfo"]),{addAccount:function(){this.showAddAccount=!0},addAgent:function(){this.showAddAgent=!0},addMachine:function(){this.showAddMachine=!0},backup:function(){this.backupFile(this)},fetchAllInfo:function(){var e=this;this.initAllInfo(this),z.getBackupFiles().then((function(t){console.log("======> 获取备份文件目录: ",t),"ok"===t.message?e.$store.commit("initBackupFiles",t.data):e.$Message.warning(t.message)}))}})},Y=J,G=(a("670d"),Object(s["a"])(Y,m,h,!1,null,"46e9ad6f",null)),Q=G.exports,U=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"load"},[a("h1",{staticClass:"title"},[e._v("远程科技管理系统")]),a("div",{staticClass:"from"},[a("Form",{ref:"loadForm",attrs:{model:e.loadData,"label-width":80}},[a("FormItem",{attrs:{label:"用户名",prop:"user",rules:{required:!0,min:1,message:"用户名不能为空",trigger:"blur"}}},[a("i-input",{attrs:{type:"text",placeholder:"请输入用户名"},model:{value:e.loadData.user,callback:function(t){e.$set(e.loadData,"user",t)},expression:"loadData.user"}})],1),a("FormItem",{attrs:{label:"密码",prop:"password",rules:{required:!0,min:6,message:"密码最少6位",trigger:"blur"}}},[a("i-input",{attrs:{type:"password",placeholder:"请输入密码"},model:{value:e.loadData.password,callback:function(t){e.$set(e.loadData,"password",t)},expression:"loadData.password"}})],1)],1)],1),a("div",{staticClass:"btn"},[a("Button",{staticClass:"lod",attrs:{type:"primary"},on:{click:e.loadOK}},[e._v("登录")]),a("Button",[e._v("取消")])],1)])},X=[];function Z(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ee(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(a),!0).forEach((function(t){Object(p["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Z(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var te={name:"Load",data:function(){return{loadData:{user:"",password:""}}},methods:ee({},Object(g["b"])(["changeLoad"]),{loadOK:function(){var e=this;0!=this.loadData.user.length&&0!=this.loadData.password?z.load(this.loadData.user,this.loadData.password).then((function(t){"ok"===t.status?(e.changeLoad(!0),e.$router.push("/home")):(console.log("==> load info: ",t.msg," status: ",t.status),e.$Message.warning({content:"登录失败请检查你的用户名和密码",duration:2}))})):this.$Message.error("检查你的账户或密码")}})},ae=te,ne=(a("bdc6"),Object(s["a"])(ae,U,X,!1,null,"fb208758",null)),oe=ne.exports,ie=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"backup"})},ce=[],re={name:"Backup"},se=re,de=Object(s["a"])(se,ie,ce,!1,null,null,null),le=de.exports,ue=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"account"},[a("Table",{attrs:{border:"","highlight-row":!0,columns:e.account_label,data:e.getAccountsWithState(e.$route.params.state)},scopedSlots:e._u([{key:"account_no",fn:function(t){var n=t.row;return[a("strong",[e._v(e._s(n.account_no))])]}},{key:"action",fn:function(t){var n=t.row;return[a("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"primary",size:"small"},on:{click:function(t){return e.edit(n)}}},[e._v("编辑")]),a("Button",{attrs:{type:"error",size:"small"},on:{click:function(t){return e.remove(n)}}},[e._v("删除")])]}}])}),a("EditAccount",{attrs:{showModal:e.showEditAccount,accountDetail:e.activeRow},on:{"update:showModal":function(t){e.showEditAccount=t},"update:show-modal":function(t){e.showEditAccount=t}}})],1)},me=[],he=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"edit-account"},[a("Modal",{attrs:{title:"编辑账户",loading:e.loading},on:{"on-ok":function(t){return e.asyncOK("editAccountFormValidate")}},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[a("Form",{ref:"editAccountFormValidate",attrs:{model:e.editAccountFormValidate,"label-width":80}},[a("FormItem",{attrs:{label:"账户代号",prop:"account_no",rules:{required:!0,message:"账户代号, 如：a101",trigger:"blur"}}},[a("i-input",{attrs:{placeholder:"输入账户代号",readonly:""},model:{value:e.editAccountFormValidate.account_no,callback:function(t){e.$set(e.editAccountFormValidate,"account_no",t)},expression:"editAccountFormValidate.account_no"}})],1),a("FormItem",{attrs:{label:"代理",prop:"agent_name",rules:{required:!0}}},[a("Select",{attrs:{placeholder:"请选择代理"},model:{value:e.editAccountFormValidate.agent_name,callback:function(t){e.$set(e.editAccountFormValidate,"agent_name",t)},expression:"editAccountFormValidate.agent_name"}},e._l(e.agents,(function(t){return a("Option",{key:t.agent_name,attrs:{value:t.agent_name}},[e._v(e._s(t.agent_name))])})),1)],1),a("FormItem",{attrs:{label:"服务器"}},[a("Select",{staticStyle:{width:"250px"},attrs:{placeholder:"选择服务器",clearable:""},model:{value:e.editAccountFormValidate.machine_no,callback:function(t){e.$set(e.editAccountFormValidate,"machine_no",t)},expression:"editAccountFormValidate.machine_no"}},e._l(e.getEditMachines(e.accountDetail.machine_no),(function(t){return a("Option",{key:t.machine_no,attrs:{value:t.machine_no}},[e._v(e._s(t.machine_no))])})),1)],1),a("FormItem",{attrs:{label:"创建日期"}},[a("i-input",{attrs:{readonly:""},model:{value:e.editAccountFormValidate.create_date,callback:function(t){e.$set(e.editAccountFormValidate,"create_date",t)},expression:"editAccountFormValidate.create_date"}})],1),a("FormItem",{attrs:{label:"授权时间"}},[a("DatePicker",{attrs:{type:"date",placeholder:"代理的授权日期"},model:{value:e.editAccountFormValidate.agent_date,callback:function(t){e.$set(e.editAccountFormValidate,"agent_date",t)},expression:"editAccountFormValidate.agent_date"}})],1),a("FormItem",{attrs:{label:"代理时间"}},[a("DatePicker",{attrs:{type:"date",placeholder:"代理的到期日期"},model:{value:e.editAccountFormValidate.end_date,callback:function(t){e.$set(e.editAccountFormValidate,"end_date",t)},expression:"editAccountFormValidate.end_date"}})],1),a("FormItem",{attrs:{label:"剩余时间"}},[a("i-input",{attrs:{placeholder:"输入该账号的使用时间",readonly:""},model:{value:e.editAccountFormValidate.time_left,callback:function(t){e.$set(e.editAccountFormValidate,"time_left",t)},expression:"editAccountFormValidate.time_left"}})],1)],1)],1)],1)},pe=[],fe=(a("0d03"),a("ac1f"),a("25f0"),a("5319"),a("53ca")),_e={dateDifference:function(e){if(null==e||""==e)return"0";var t=Date.parse(e.replace(/-/g,"/")),a=new Date,n=t-a+864e5;return n>0?Math.floor(n/864e5).toString():"0"},deepCopy:function(e){var t=Array.isArray(e)?[]:{};for(var a in e)e.hasOwnProperty(a)&&("object"===Object(fe["a"])(e[a])&&null!==e[a]?t[a]=this.deepCopy(e[a]):t[a]=e[a]);return t},formatDate:function(e){if(""==e)return"";var t=new Date(e),a=t.getFullYear(),n=t.getMonth()+1,o=t.getDate(),i=a+"-"+(n<=9?"0"+n:n)+"-"+(o<=9?"0"+o:o);return i}};function ge(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function be(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(a),!0).forEach((function(t){Object(p["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ge(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var we={name:"EditAccount",props:{showModal:Boolean,accountDetail:Object},data:function(){return{show:!1,loading:!0,editAccountFormValidate:{}}},computed:be({},Object(g["d"])(["agents"]),{},Object(g["c"])(["getEditMachines"])),methods:be({},Object(g["b"])(["editAccount"]),{asyncOK:function(e){var t=this;console.log("===> editAccountFormValidate data: ",this.editAccountFormValidate),this.$refs[e].validate((function(e){e?(t.editAccountFormValidate.agent_date=_e.formatDate(t.editAccountFormValidate.agent_date),t.editAccountFormValidate.end_date=_e.formatDate(t.editAccountFormValidate.end_date),t.editAccount({me:t,data:t.editAccountFormValidate})):t.$Message.warning("请检查你的输入内容")})),this.show=!1}}),watch:{showModal:function(){this.show=this.showModal},show:function(){this.$emit("update:showModal",this.show)},accountDetail:function(e){this.editAccountFormValidate=_e.deepCopy(e)}}},ve=we,Oe=Object(s["a"])(ve,he,pe,!1,null,"2abc0e4a",null),ye=Oe.exports;function Fe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function je(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(a),!0).forEach((function(t){Object(p["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Fe(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ke={name:"Account",components:{EditAccount:ye},data:function(){return{showEditAccount:!1,activeRow:{},account_label:[{title:"账号代号",slot:"account_no"},{title:"账户id",key:"id"},{title:"代理人",key:"agent_name"},{title:"机器代号",key:"machine_no"},{title:"机器IP",key:"machine_ip"},{title:"机器密码",key:"machine_password"},{title:"账户创建时间",key:"create_date",sortable:!0},{title:"账户授权日期",key:"agent_date",sortable:!0},{title:"账户到期时间",key:"end_date",sortable:!0},{title:"授权剩余时间(天)",key:"time_left",sortable:!0},{title:"Action",slot:"action",width:150,align:"center"}]}},computed:je({},Object(g["d"])(["accounts"]),{},Object(g["c"])(["getAccountsWithState"])),methods:je({},Object(g["b"])(["delAccount"]),{edit:function(e){this.showEditAccount=!0,this.activeRow=_e.deepCopy(e)},remove:function(e){console.log("=====> remove item:",e),this.delAccount({me:this,data:e})}})},Ae=ke,Me=(a("04db"),Object(s["a"])(Ae,ue,me,!1,null,"5f75956c",null)),Ve=Me.exports,Pe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"agent"},[a("Table",{attrs:{border:"",columns:e.account_label,data:e.getAccountsWithName(e.$route.params.name)},scopedSlots:e._u([{key:"account_no",fn:function(t){var n=t.row;return[a("strong",[e._v(e._s(n.account_no))])]}},{key:"action",fn:function(t){t.row;var n=t.index;return[a("Button",{attrs:{type:"error",size:"small"},on:{click:function(t){return e.remove(n)}}},[e._v("删除")]),a("EditAccount",{attrs:{showModal:e.showEditAccount,accountDetail:e.activeAccount},on:{"update:showModal":function(t){e.showEditAccount=t},"update:show-modal":function(t){e.showEditAccount=t}}})]}}])})],1)},De=[];a("a434");function $e(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function xe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?$e(Object(a),!0).forEach((function(t){Object(p["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):$e(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ee={name:"Account",components:{EditAccount:ye},data:function(){return{showEditAccount:!1,activeAccount:{},account_label:[{title:"账号代号",slot:"account_no"},{title:"代理人",key:"agent_name"},{title:"机器代号",key:"machine_no"},{title:"机器IP",key:"machine_ip"},{title:"机器密码",key:"machine_password"},{title:"账户创建时间",key:"create_date",sortable:!0},{title:"账户授权日期",key:"agent_date",sortable:!0},{title:"账户到期时间",key:"end_date",sortable:!0},{title:"授权剩余时间(天)",key:"time_left",sortable:!0},{title:"Action",slot:"action",width:150,align:"center"}]}},computed:xe({},Object(g["d"])(["accounts"]),{},Object(g["c"])(["getAccountsWithName"])),methods:{edit:function(e){this.showEditAccount=!0,this.activeAccount=this.getAccounts[e]},remove:function(e){this.account_detail.splice(e,1)}}},Ie=Ee,Se=(a("cedb"),Object(s["a"])(Ie,Pe,De,!1,null,"389b6820",null)),Ce=Se.exports,Be=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"machine"},[a("Table",{attrs:{border:"",columns:e.machine_label,data:e.getMachinesWithState(e.$route.params.state)},scopedSlots:e._u([{key:"machine_no",fn:function(t){var n=t.row;return[a("strong",[e._v(e._s(n.machine_no))])]}},{key:"action",fn:function(t){var n=t.row;return[a("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"primary",size:"small"},on:{click:function(t){return e.edit(n)}}},[e._v("编辑")]),a("Button",{attrs:{type:"error",size:"small"},on:{click:function(t){return e.remove(n)}}},[e._v("删除")])]}}])}),a("EditMachine",{attrs:{showModal:e.showEditMachine,machineDetail:e.activeMachine},on:{"update:showModal":function(t){e.showEditMachine=t},"update:show-modal":function(t){e.showEditMachine=t}}})],1)},qe=[],We=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"edit-machine"},[a("Modal",{attrs:{title:"编辑机器",loading:e.loading},on:{"on-ok":function(t){return e.asyncOK("editMachineFormValidate")}},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[a("Form",{ref:"editMachineFormValidate",attrs:{model:e.editMachineFormValidate,"label-width":80}},[a("FormItem",{attrs:{label:"机器代号",prop:"machine_no",rules:{required:!0,message:"机器代号, 如：a101",trigger:"blur"}}},[a("i-input",{attrs:{placeholder:"输入机器代号",readonly:""},model:{value:e.editMachineFormValidate.machine_no,callback:function(t){e.$set(e.editMachineFormValidate,"machine_no",t)},expression:"editMachineFormValidate.machine_no"}})],1),a("FormItem",{attrs:{label:"机器ip",prop:"machine_ip",rules:{required:!0,message:"机器ip, 如：192.168.1.1:6666",trigger:"blur"}}},[a("i-input",{attrs:{placeholder:"输入机器ip"},model:{value:e.editMachineFormValidate.machine_ip,callback:function(t){e.$set(e.editMachineFormValidate,"machine_ip",t)},expression:"editMachineFormValidate.machine_ip"}})],1),a("FormItem",{attrs:{label:"机器密码",prop:"machine_password",rules:{required:!0,message:"机器密码, 如：123456",trigger:"blur"}}},[a("i-input",{attrs:{placeholder:"输入机器密码"},model:{value:e.editMachineFormValidate.machine_password,callback:function(t){e.$set(e.editMachineFormValidate,"machine_password",t)},expression:"editMachineFormValidate.machine_password"}})],1),a("FormItem",{attrs:{label:"创建日期"}},[a("i-input",{attrs:{readonly:""},model:{value:e.editMachineFormValidate.machine_create_date,callback:function(t){e.$set(e.editMachineFormValidate,"machine_create_date",t)},expression:"editMachineFormValidate.machine_create_date"}})],1),a("FormItem",{attrs:{label:"到期日期"}},[a("DatePicker",{attrs:{type:"date",placeholder:"机器的到期日期"},model:{value:e.editMachineFormValidate.machine_end_date,callback:function(t){e.$set(e.editMachineFormValidate,"machine_end_date",t)},expression:"editMachineFormValidate.machine_end_date"}})],1),a("FormItem",{attrs:{label:"剩余时间"}},[a("i-input",{attrs:{placeholder:"输入该账号的使用时间",readonly:""},model:{value:e.editMachineFormValidate.machine_time_left,callback:function(t){e.$set(e.editMachineFormValidate,"machine_time_left",t)},expression:"editMachineFormValidate.machine_time_left"}})],1)],1)],1)],1)},Ne=[];function Ke(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Le(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(a),!0).forEach((function(t){Object(p["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ke(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Te={name:"EditMachine",props:{showModal:Boolean,machineDetail:Object},data:function(){return{show:!1,loading:!0,editMachineFormValidate:{}}},methods:Le({},Object(g["b"])(["editMachine"]),{asyncOK:function(e){var t=this;this.$refs[e].validate((function(e){e?(t.editMachineFormValidate.machine_end_date=_e.formatDate(t.editMachineFormValidate.machine_end_date),console.log("=====> end date: ",t.editMachineFormValidate.machine_end_date),t.editMachine({me:t,data:t.editMachineFormValidate})):t.$Message.warning("请检查你的输入内容")})),this.show=!1}}),watch:{showModal:function(){this.show=this.showModal},show:function(){this.$emit("update:showModal",this.show)},machineDetail:function(e){this.editMachineFormValidate=e}}},ze=Te,Re=Object(s["a"])(ze,We,Ne,!1,null,"22674a14",null),He=Re.exports;function Je(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ye(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Je(Object(a),!0).forEach((function(t){Object(p["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Je(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ge={name:"Machine",components:{EditMachine:He},data:function(){return{showEditMachine:!1,activeMachine:{},machine_label:[{title:"机器代号",slot:"machine_no"},{title:"绑定账户id",key:"account_id"},{title:"机器ip",key:"machine_ip"},{title:"机器密码",key:"machine_password"},{title:"机器创建时间",key:"machine_create_date",sortable:!0},{title:"机器到期时间",key:"machine_end_date",sortable:!0},{title:"机器可用时间",key:"machine_time_left",sortable:!0},{title:"Action",slot:"action",width:150,align:"center"}]}},computed:Ye({},Object(g["c"])(["getMachinesWithState"])),methods:Ye({},Object(g["b"])(["eidtMachine","delMachine"]),{edit:function(e){this.showEditMachine=!0,this.activeMachine=_e.deepCopy(e)},remove:function(e){""==e.account_id||null==e.account_id?this.delMachine({me:this,data:e}):this.$Notice.info({title:"删除警告",desc:"请先解除该机器上的账户, 绑定的账户id: "+e.account_id})}})},Qe=Ge,Ue=(a("5684"),Object(s["a"])(Qe,Be,qe,!1,null,"dbe95d72",null)),Xe=Ue.exports;n["default"].use(u["a"]);var Ze=new u["a"]({routes:[{path:"/",name:"load",component:oe},{path:"/home",name:"home",component:Q,children:[{path:"accounts/:state",component:Ve},{path:"agents/:name",component:Ce},{path:"machines/:state",component:Xe}]},{path:"/backup",name:"backup",components:le}]}),et=a("f825"),tt=a.n(et);a("f8ce");n["default"].use(g["a"]);var at=new g["a"].Store({state:{keepAlive:!1,accounts:[],agents:[],machines:[],backups:[]},getters:{isLoad:function(e){return e.keepAlive},getAccountsWithState:function(e){return function(t){return"all"===t?e.accounts:"used"===t?e.accounts.filter((function(e){return e.time_left>0})):"unuse"===t?e.accounts.filter((function(e){return e.time_left<=0})):void console.log("===> getAccountsWithState unknown state: ",t)}},getAccountsWithName:function(e){return function(t){return e.accounts.filter((function(e){return e.agent_name===t}))}},getAgentsWithName:function(e){return function(t){return e.agents.filter((function(e){return e.agent_name===t}))}},getMachinesWithState:function(e){return function(t){return"formal"===t?e.machines.filter((function(e){return e.machine_time_left>0})):"expose"===t?e.machines.filter((function(e){return e.machine_time_left<=0})):"useful"===t?e.machines.filter((function(e){return e.machine_time_left>0&&""===e.account_id})):void console.log("===> getMachinesWithState unknown state: ",t)}},getEditMachines:function(e){return function(t){return e.machines.filter((function(e){return e.machine_time_left>0&&""===e.account_id||e.machine_no==t}))}}},mutations:{changeLoad:function(e,t){e.keepAlive=t},changeAccount:function(e,t){for(var a in e.accounts)if(e.accounts[a].account_id===t.item.account_id)switch(t.operate){case"del":return void e.accounts.splice(a,1);case"ch":return e.accounts[a].end_date,t.item.end_date,void(e.accounts[a]=t.item)}},initAgents:function(e,t){for(var a in t){var o={id:t[a].id,agent_name:t[a].agent_name,agent_account:t[a].agent_account,agent_password:t[a].agent_password};n["default"].set(e.agents,a,o)}},initMachines:function(e,t){for(var a in t){var o={id:t[a].id,machine_no:t[a].machine_no,machine_ip:t[a].machine_ip,machine_password:t[a].machine_password,machine_create_date:t[a].machine_create_date,machine_end_date:t[a].machine_end_date,account_id:t[a].account_id,machine_time_left:_e.dateDifference(t[a].machine_end_date)};n["default"].set(e.machines,a,o)}},initAccounts:function(e,t){for(var a in t){var o="",i="",c="",r="";for(var s in e.agents)e.agents[s].id==t[a].agent_id&&(o=e.agents[s].agent_name);for(var d in e.machines)e.machines[d].id==t[a].machine_id&&(i=e.machines[d].machine_no,c=e.machines[d].machine_ip,r=e.machines[d].machine_password);var l={id:t[a].id,account_no:t[a].account_no,create_date:t[a].create_date,agent_date:t[a].agent_date,end_date:t[a].end_date,agent_id:t[a].agent_id,agent_name:o,machine_id:t[a].machine_id,machine_no:i,machine_ip:c,machine_password:r,time_left:_e.dateDifference(t[a].end_date)};n["default"].set(e.accounts,a,l)}},initBackupFiles:function(e,t){for(var a in t)n["default"].set(e.backups,a,t[a])},addAgent:function(e,t){var a={id:t.id,agent_name:t.agent_name,agent_account:t.agent_account,agent_password:t.agent_password};n["default"].set(e.agents,e.agents.length,a)},addMachine:function(e,t){console.log("=======>  addMachine item: ",t);var a={id:t.id,machine_no:t.machine_no,machine_ip:t.machine_ip,machine_password:t.machine_password,machine_create_date:t.machine_create_date,machine_end_date:t.machine_end_date,machine_time_left:_e.dateDifference(t.machine_end_date)};n["default"].set(e.machines,e.machines.length,a)},addAccount:function(e,t){var a="",o="",i="",c="";for(var r in e.agents)if(e.agents[r].id==t.agent_id){a=e.agents[r].agent_name;break}for(var s in e.machines)if(e.machines[s].id==t.machine_id){o=e.machines[s].machine_no,i=e.machines[s].machine_ip,c=e.machines[s].machine_password,e.machines[s].account_id=t.id;break}var d={id:t.id,account_no:t.account_no,create_date:t.create_date,agent_date:t.agent_date,end_date:t.end_date,agent_id:t.agent_id,agent_name:a,machine_id:t.machine_id,machine_no:o,machine_ip:i,machine_password:c,time_left:_e.dateDifference(t.end_date)};n["default"].set(e.accounts,e.accounts.length,d)},delAccount:function(e,t){for(var a in e.accounts)if(t.id===e.accounts[a].id){e.accounts.splice(a,1);break}if(""!=t.machine_id)for(var o in e.machines)if(t.machine_id==e.machines[o].id){var i=_e.deepCopy(e.machines[o]);i.account_id="",n["default"].set(e.machines,o,i);break}},delMachine:function(e,t){for(var a in e.machines)if(t.id==e.machines[a].id){e.machines.splice(a,1);break}},backupFile:function(e,t){n["default"].set(e.backups,e.backups.length,t)},editMachine:function(e,t){for(var a in e.machines)if(t.id==e.machines[a].id){var o={id:t.id,machine_ip:t.machine_ip,machine_no:t.machine_no,machine_password:t.machine_password,machine_create_date:t.machine_create_date,machine_end_date:t.machine_end_date,account_id:t.account_id,machine_time_left:_e.dateDifference(t.machine_end_date)};n["default"].set(e.machines,a,o);break}}},actions:{changeLoad:function(e,t){console.log("=======>   context: ",e),e.commit("changeLoad",t)},initAllInfo:function(e,t){var a=e.commit;z.getAllInfo().then((function(e){console.log("=====> 初始化的信息数据: ",e),"ok"==e.message?(a("initAgents",e.data.agents),a("initMachines",e.data.machines),a("initAccounts",e.data.accounts)):t.$Notice.error({title:"初始化数据失败",desc:e.message})}))},addAgent:function(e,t){var a=e.commit,n=e.state;if(0==n.keepAlive)return t.me.$Message.error("请先登录再操作"),void t.me.$router.push({name:"load"});var o=t.data;z.addAgent(o).then((function(e){console.log("====> add agent: ",e),"ok"==e.message?a("addAgent",e.data):t.me.$Notice.error({title:"添加代理失败",desc:e.message})}))},addAccount:function(e,t){var a=t.data;z.addAccount(a).then((function(a){console.log("====> add account: ",a),"ok"==a.message?e.commit("addAccount",a.data):t.me.$Notice.error({title:"添加账户失败",desc:a.message})}))},addMachine:function(e,t){var a=t.data;z.addMachine(a).then((function(a){console.log("====> add machine: ",a),"ok"==a.message?e.commit("addMachine",a.data):t.me.$Notice.error({title:"添加机器失败",desc:a.message})}))},delAccount:function(e,t){var a=t.data;z.delAccount(a).then((function(a){console.log("=====> del account: ",a),"ok"==a.message?e.commit("delAccount",a.data):t.me.$Notice.error({title:"删除账户错误",desc:a.message})}))},delMachine:function(e,t){var a=t.data;z.delMachine(a).then((function(a){"ok"==a.message?e.commit("delMachine",a.data):t.me.$Notice.error({title:"删除机器错误",desc:a.message})}))},editAccount:function(e,t){var a=e.dispatch,n=e.state,o=t.data;if(""==o.machine_id){if(""!=o.machine_no)for(var i in n.machines)if(o.machine_no==n.machines[i].machine_no){o.dst_machine_id=n.machines[i].id,o.ext="add";break}}else if(""==o.machine_no||void 0==o.machine_no)o.ext="release";else for(var c in n.machines)if(o.machine_no==n.machines[c].machine_no&&o.machine_id!=n.machines[c].id){o.ext="modify",o.dst_machine_id=n.machines[c].id;break}for(var r in n.agents)if(o.agent_name==n.agents[r].agent_name&&o.agent_id!=n.agents[r].id){o.dst_agent_id=n.agents[r].id;break}z.editAccount(o).then((function(e){console.log("======> edit account: ",e),"ok"===e.message?a("initAllInfo",t.me):t.me.$Notice.error({title:"更新账户错误",desc:e.message})}))},editMachine:function(e,t){var a=e.commit,n=t.data;console.log("=======> edit machine: ",n),z.editMachine(n).then((function(e){"ok"==e.message?a("editMachine",e.data):t.me.$Notice.error({title:"更新机器错误",desc:e.message})}))},backupFile:function(e,t){z.backup().then((function(a){console.log("======> backup file: ",a),"ok"===a.message?e.commit("backupFile",a.data):t.$Message.info("备份: ",a.message)}))}}});n["default"].use(tt.a),n["default"].config.productionTip=!1,new n["default"]({router:Ze,store:at,render:function(e){return e(l)}}).$mount("#app")},"5bbc":function(e,t,a){},"670d":function(e,t,a){"use strict";var n=a("abac"),o=a.n(n);o.a},"85ec":function(e,t,a){},abac:function(e,t,a){},bdc6:function(e,t,a){"use strict";var n=a("0100"),o=a.n(n);o.a},cedb:function(e,t,a){"use strict";var n=a("d0fa"),o=a.n(n);o.a},d0fa:function(e,t,a){},e0a7:function(e,t,a){}});
//# sourceMappingURL=app.1ed7ae0d.js.map